{% extends 'base.html' %}
{% block content %}
  <h1>Game {{ object.name }}</h1>

  <div class="card">
    <div class="card-header">Leaderboard</div>
    <div class="card-body">
      <table class="table">
        <thead>
          <tr>
            <th>Player</th>
            <th>Wins</th>
            <th>Most Recent</th>
          </tr>
        </thead>
        <tbody>
          {% for player in leader_board %}
            <tr>
              <th scope="row">{{ player.name }}</th>
              <td>{{ player.win_count }}</td>
              <td>{{ player.most_recent_win }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

  <div class="card">
    <div class="card-header">Round History</div>
    <div class="card-body">
        <table class="table">
            <thead>
              <tr>
                <th>#</th>
                <th>Url</th>
                <th>Winner</th>
                <th>Submitted by</th>
              </tr>
            </thead>
            <tbody>
              {% for round in rounds %}
                <tr>
                  <th scope="row">{{ round.round_number }} - {{round.datetime|date:"N j, y"}}</th>
                  <td><a href="{{round.url}}">{% if round.title %}{{ round.title }}{% else %}{{round.url}}{% endif %}</a></td>
                  <td>{{ round.winner_name }}</td>
                  <td>{{ round.submitted_by }}</td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
    </div>
  </div>
{% endblock %}
